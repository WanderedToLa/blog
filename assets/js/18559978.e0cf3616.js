"use strict";(self.webpackChunkwanderedtola_blog=self.webpackChunkwanderedtola_blog||[]).push([[4576],{7408:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>i,default:()=>p,frontMatter:()=>o,metadata:()=>s,toc:()=>d});var r=t(7624),c=t(2172);const o={},i="07-17",s={id:"2024/07/07-17",title:"07-17",description:"execute contentscript",source:"@site/docs/2024/07/07-17.md",sourceDirName:"2024/07",slug:"/2024/07/07-17",permalink:"/docs/2024/07/07-17",draft:!1,unlisted:!1,editUrl:"https://github.com/WanderedToLa/wanderedtola.blog/tree/master/docs/2024/07/07-17.md",tags:[],version:"current",frontMatter:{},sidebar:"WikiSidebar",previous:{title:"07-16",permalink:"/docs/2024/07/07-16"},next:{title:"@actions/toolkit",permalink:"/docs/Frontend/actions-core"}},a={},d=[{value:"execute contentscript",id:"execute-contentscript",level:2},{value:"chrome.action",id:"chromeaction",level:3}];function l(e){const n={br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,c.M)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"07-17",children:"07-17"}),"\n",(0,r.jsx)(n.h2,{id:"execute-contentscript",children:"execute contentscript"}),"\n",(0,r.jsxs)(n.p,{children:["service-worker\ub97c ts\ub85c \ubcc0\uacbd\ud558\uba74\uc11c \uc0dd\uae34 \ubb38\uc81c \uc808\ub300\uacbd\ub85c\ub85c \uba85\uc2dc\ud558\uc5ec \ud574\uacb0 (not receiving, file path)",(0,r.jsx)(n.br,{}),"\n","\ud558\uc9c0\ub9cc \uc624\ub958\uac00 \uc5c6\uc74c\uc5d0\ub3c4 contentscript\uac00 load\ub418\uc9c0 \uc54a\uc74c",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.code,{children:"chrome.action.onClicked"})," event\ub85c contentscript\ub97c \ub2e8\uc21c load\ub9cc \ud558\uc9c0\uc54a\uace0",(0,r.jsx)(n.br,{}),"\n","react\ub97c \uc0ac\uc6a9\ud558\ub294 contentscript\ub0b4\ubd80\uc5d0\uc11c body.prepend \ud558\uc5ec",(0,r.jsx)(n.br,{}),"\n","html\ub0b4\ubd80\uc5d0 script\ub97c \uc0bd\uc785\ud558\ub294 \ubc29\ud5a5\uc73c\ub85c \uc218\uc815\ud574\ubcfc \uac83"]}),"\n",(0,r.jsx)(n.h3,{id:"chromeaction",children:"chrome.action"}),"\n",(0,r.jsx)(n.p,{children:"\uacf5\uc2dd\ubb38\uc11c \uc911 \ucf58\ud150\uce20 \ud074\ub9ad\uc2dc \uc2a4\ud06c\ub9bd\ud2b8 \uc0bd\uc785\ubd80\ubd84"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",metastring:'title="manifest.json"',children:'{\n  "name": "Action script injection demo",\n  "version": "1.0",\n  "manifest_version": 3,\n  "action": {\n    "default_title": "Click to show an alert"\n  },\n  "permissions": ["activeTab", "scripting"],\n  "background": {\n    "service_worker": "background.js"\n  }\n}\n'})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",metastring:'title="service-worker.ts"',children:"chrome.action.onClicked.addListener((tab) => {\n  if (tab.id) {\n    chrome.scripting.executeScript({\n      target: { tabId: tab.id },\n      files: ['dist/contentscript.js'],\n    });\n  }\n});\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"alert('hello world');\n"})})]})}function p(e={}){const{wrapper:n}={...(0,c.M)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},2172:(e,n,t)=>{t.d(n,{I:()=>s,M:()=>i});var r=t(1504);const c={},o=r.createContext(c);function i(e){const n=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:i(e.components),r.createElement(o.Provider,{value:n},e.children)}}}]);